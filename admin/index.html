<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Budget Admin</title>
	<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23FFD700' stroke='%23DAA520' stroke-width='5'/><text x='50' y='68' font-size='50' text-anchor='middle' fill='%23DAA520'>€</text></svg>">
	<link rel="stylesheet" href="../shared/styles.css">
</head>
<body>
	<h1>Budget Admin</h1>
	
	<div class="budget-display" id="budgetDisplay">Loading...</div>
	
	<div class="controls">
		<button class="btn-subtract" onclick="adjustBudget(-amount())">−</button>
		<input type="number" id="amount" value="1" min="0" step="0.5">
		<button class="btn-add" onclick="adjustBudget(amount())">+</button>
	</div>
	
	<div class="controls">
		<input type="number" id="newBudget" placeholder="New budget">
		<button class="btn-set" onclick="setBudget()">Set Budget</button>
	</div>
	
	<div class="controls">
		<button class="btn-reset" onclick="resetWeek()">Reset Week</button>
	</div>
	
	<div class="weekly-spending">
		<h2>This Week</h2>
		<table id="weeklyTable" class="weekly-table"></table>
	</div>
	
	<div class="status" id="status"></div>

	<script src="../shared/budget.js"></script>
	<script>
		// Reset week manually
		async function resetWeek() {
			if (!confirm('Reset budget to €7 and clear weekly spending?')) return;
			currentBudget = WEEKLY_BUDGET;
			dailySpending = [0, 0, 0, 0, 0, 0, 0];
			weekStart = getWeekStart();
			updateDisplay();
			await saveBudget();
		}
	</script>
</body>
</html>
